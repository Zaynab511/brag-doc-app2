<div class="card">
  <div class="card-body">
    <h2>{{ isEditMode ? 'Edit' : 'Create' }} Achievement</h2>

    <!-- Form Initialization -->
    <form [formGroup]="bragForm" (ngSubmit)="onSubmit()">
      
      <!-- Title Field -->
      <div class="form-group">
        <label for="title">Title</label>
        <input 
          type="text" 
          id="title" 
          formControlName="title" 
          class="form-control" 
          placeholder="Enter the title of the achievement" 
          [ngClass]="{'is-invalid': bragForm.get('title')?.invalid && bragForm.get('title')?.touched}"
        />
        <!-- Validation Message -->
        <div *ngIf="bragForm.get('title')?.invalid && bragForm.get('title')?.touched" class="invalid-feedback">
          Title is required.
        </div>
      </div>

      <!-- Date Field -->
      <div class="form-group">
        <label for="date">Date</label>
        <input 
          type="date" 
          id="date" 
          formControlName="date" 
          class="form-control" 
          [ngClass]="{'is-invalid': bragForm.get('date')?.invalid && bragForm.get('date')?.touched}"
        />
        <!-- Validation Message -->
        <div *ngIf="bragForm.get('date')?.invalid && bragForm.get('date')?.touched" class="invalid-feedback">
          Date is required.
        </div>
      </div>

      <!-- Description Field with Quill WYSIWYG Editor -->
      <div class="form-group">
        <label for="description">Description</label>
        <quill-editor
          formControlName="description"
          class="form-control quill-editor"
          [ngClass]="{'is-invalid': bragForm.get('description')?.invalid && bragForm.get('description')?.touched}">
        </quill-editor>

        <!-- Validation Message -->
        <div *ngIf="bragForm.get('description')?.invalid && bragForm.get('description')?.touched" class="invalid-feedback">
          Description is required.
        </div>
      </div>

      <!-- Impact Field -->
      <div class="form-group">
        <label for="impact">Impact</label>
        <input 
          type="text" 
          id="impact" 
          formControlName="impact" 
          class="form-control" 
          placeholder="Describe the impact of your achievement" 
          [ngClass]="{'is-invalid': bragForm.get('impact')?.invalid && bragForm.get('impact')?.touched}"
        />
        <!-- Validation Message -->
        <div *ngIf="bragForm.get('impact')?.invalid && bragForm.get('impact')?.touched" class="invalid-feedback">
          Impact is required.
        </div>
      </div>

      <!-- Submit Button -->
      <button type="submit" class="btn btn-primary w-100 mt-3" [disabled]="bragForm.invalid">
        {{ isEditMode ? 'Update' : 'Create' }}
      </button>
    </form>

    <!-- Success and Error Messages -->
    <div *ngIf="successMessage" class="alert alert-success mt-3">
      {{ successMessage }}
    </div>
    <div *ngIf="errorMessage" class="alert alert-danger mt-3">
      {{ errorMessage }}
    </div>
  </div>
</div>
